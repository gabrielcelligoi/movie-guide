{"ast":null,"code":"var _jsxFileName = \"/home/gabrielcelligoi/Udemy/01-react-native/movie-guide/movie-guide/src/pages/Home/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport './home.css';\nimport Popular from \"./Popular\"; // API URL: movie/now_playing?api_key=1f6b33fb81a101dccbcc1b538423c585\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function loadMovies() {\n      const response = await api.get(\"movie/popular\", {\n        params: {\n          api_key: \"1f6b33fb81a101dccbcc1b538423c585\",\n          page: page\n        }\n      });\n\n      if (page !== response.data.total_pages && page < 5) {\n        let sumPage = page + 1;\n        setPage(sumPage);\n      }\n\n      setMovies(prev => [...prev, ...response.data.results]);\n      setLoading(false);\n    }\n\n    loadMovies();\n  }, [page]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Popular, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"JFO50ewLWDioaXXm2t6hraAGy+0=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","Link","api","Popular","Home","movies","setMovies","page","setPage","loading","setLoading","loadMovies","response","get","params","api_key","data","total_pages","sumPage","prev","results"],"sources":["/home/gabrielcelligoi/Udemy/01-react-native/movie-guide/movie-guide/src/pages/Home/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport './home.css';\nimport Popular from \"./Popular\";\n\n// API URL: movie/now_playing?api_key=1f6b33fb81a101dccbcc1b538423c585\n\nfunction Home() {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1)\n  const [loading, setLoading] = useState(true);\n\n  useEffect(()=> {\n    async function loadMovies(){\n      const response = await api.get(\"movie/popular\", {\n        params: {\n          api_key: \"1f6b33fb81a101dccbcc1b538423c585\",\n          page: page,\n        }\n      })\n      \n      if (page !== response.data.total_pages && page < 5) {\n        let sumPage = page + 1;\n        setPage(sumPage);\n        \n      }\n      setMovies(prev => [...prev, ...response.data.results]);\n      \n      setLoading(false);\n    }\n\n    loadMovies();\n\n  }, [page])\n\n  if(loading) {\n    return(\n    <div className=\"loading\">\n      <h1>Loading...</h1>\n    </div>\n    )\n  }\n\n  return(\n    <Popular/>\n  );\n}\n\nexport default Home;"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAO,YAAP;AACA,OAAOC,OAAP,MAAoB,WAApB,C,CAEA;;;;AAEA,SAASC,IAAT,GAAgB;EAAA;;EACd,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,CAAD,CAAhC;EACA,MAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;EAEAD,SAAS,CAAC,MAAK;IACb,eAAeY,UAAf,GAA2B;MACzB,MAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAQ,eAAR,EAAyB;QAC9CC,MAAM,EAAE;UACNC,OAAO,EAAE,kCADH;UAENR,IAAI,EAAEA;QAFA;MADsC,CAAzB,CAAvB;;MAOA,IAAIA,IAAI,KAAKK,QAAQ,CAACI,IAAT,CAAcC,WAAvB,IAAsCV,IAAI,GAAG,CAAjD,EAAoD;QAClD,IAAIW,OAAO,GAAGX,IAAI,GAAG,CAArB;QACAC,OAAO,CAACU,OAAD,CAAP;MAED;;MACDZ,SAAS,CAACa,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAU,GAAGP,QAAQ,CAACI,IAAT,CAAcI,OAA3B,CAAT,CAAT;MAEAV,UAAU,CAAC,KAAD,CAAV;IACD;;IAEDC,UAAU;EAEX,CArBQ,EAqBN,CAACJ,IAAD,CArBM,CAAT;;EAuBA,IAAGE,OAAH,EAAY;IACV,oBACA;MAAK,SAAS,EAAC,SAAf;MAAA,uBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADA;EAKD;;EAED,oBACE,QAAC,OAAD;IAAA;IAAA;IAAA;EAAA,QADF;AAGD;;GAvCQL,I;;KAAAA,I;AAyCT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}